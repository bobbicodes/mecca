["^ ","~:output",["^ ","~:js","goog.provide('mecca.events');\r\ngoog.require('cljs.core');\r\ngoog.require('re_frame.core');\r\ngoog.require('re_pressed.core');\r\ngoog.require('day8.re_frame.undo');\r\ngoog.require('mecca.mario');\r\ngoog.require('mecca.songs.megaman');\r\ngoog.require('mecca.songs.zelda');\r\ngoog.require('mecca.songs.city');\r\ngoog.require('mecca.music');\r\ngoog.require('goog.events');\r\ngoog.require('goog.events.EventType');\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"initialize-db\",\"initialize-db\",230998432),(function (_,___$1){\r\nreturn cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"samples\",\"samples\",635504833),new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415),new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844),new cljs.core.Keyword(null,\"sharp?\",\"sharp?\",411396133),new cljs.core.Keyword(null,\"eraser?\",\"eraser?\",-561181785),new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289),new cljs.core.Keyword(null,\"time\",\"time\",1385887882),new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782),new cljs.core.Keyword(null,\"current-note\",\"current-note\",-1767945909),new cljs.core.Keyword(null,\"mario-run\",\"mario-run\",-1086168628),new cljs.core.Keyword(null,\"repeat?\",\"repeat?\",1245600428),new cljs.core.Keyword(null,\"file-upload\",\"file-upload\",-1929678130),new cljs.core.Keyword(null,\"jumping?\",\"jumping?\",-2092574161),new cljs.core.Keyword(null,\"time-signature\",\"time-signature\",-1730387952),new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863),new cljs.core.Keyword(null,\"loop-end\",\"loop-end\",-88908047),new cljs.core.Keyword(null,\"mario-y\",\"mario-y\",1718385780),new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),new cljs.core.Keyword(null,\"next-note-time\",\"next-note-time\",-1117617128),new cljs.core.Keyword(null,\"focused-note-pos\",\"focused-note-pos\",-1443473576),new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898),new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453),new cljs.core.Keyword(null,\"mario-x\",\"mario-x\",1743249500),new cljs.core.Keyword(null,\"array-buffer\",\"array-buffer\",519008380),new cljs.core.Keyword(null,\"xml\",\"xml\",-1170142052),new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254),new cljs.core.Keyword(null,\"notes-in-queue\",\"notes-in-queue\",-193583681)],[null,(1),(1),false,false,(0),(0),(0),(0),(1),false,\"\",false,(4),false,null,(61),cljs.core.PersistentVector.EMPTY,0.0,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [null,null], null),(new AudioContext()),(120),(16),null,\"\",(0),cljs.core.PersistentVector.EMPTY]);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$3(new cljs.core.Keyword(null,\"remove-note\",\"remove-note\",-1957283966),day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$1(\"remove note\"),(function (db,p__41086){\r\nvar vec__41087 = p__41086;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41087,(0),null);\r\nvar time = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41087,(1),null);\r\nvar pitch = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41087,(2),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),(function (note){\r\nreturn cljs.core.remove.cljs$core$IFn$_invoke$arity$2((function (p1__41085_SHARP_){\r\nreturn ((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(time,new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__41085_SHARP_))) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(pitch,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700).cljs$core$IFn$_invoke$arity$1(p1__41085_SHARP_))));\r\n}),note);\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"file-upload\",\"file-upload\",-1929678130),(function (db,p__41090){\r\nvar vec__41091 = p__41090;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41091,(0),null);\r\nvar file = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41091,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"file-upload\",\"file-upload\",-1929678130),file);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"load-samples\",\"load-samples\",-40877701),(function (db,p__41094){\r\nvar vec__41095 = p__41094;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41095,(0),null);\r\nvar samples = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41095,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"samples\",\"samples\",635504833),samples);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"set-time-signature\",\"set-time-signature\",-674659703),(function (db,p__41098){\r\nvar vec__41099 = p__41098;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41099,(0),null);\r\nvar beats_per_measure = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41099,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"time-signature\",\"time-signature\",-1730387952),beats_per_measure);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"set-notes\",\"set-notes\",-1718182261),(function (db,p__41102){\r\nvar vec__41103 = p__41102;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41103,(0),null);\r\nvar notes = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41103,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),notes);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"timer\",\"timer\",-1266967739),(function (db,p__41106){\r\nvar vec__41107 = p__41106;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41107,(0),null);\r\nvar new_time = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41107,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),new_time);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"play-on\",\"play-on\",-1655917734),(function (db,p__41110){\r\nvar vec__41111 = p__41110;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41111,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41111,(1),null);\r\nmecca.music.play_song_BANG_();\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"play-start\",\"play-start\",-898241782),cljs.core.deref((function (){var G__41114 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41114) : re_frame.core.subscribe.call(null,G__41114));\r\n})()).currentTime),new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863),true);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"sharp-on\",\"sharp-on\",-1157509082),(function (db,p__41115){\r\nvar vec__41116 = p__41115;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41116,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41116,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"sharp?\",\"sharp?\",411396133),true);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"sharp-toggle\",\"sharp-toggle\",1733862740),(function (db,p__41119){\r\nvar vec__41120 = p__41119;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41120,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41120,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"sharp?\",\"sharp?\",411396133),cljs.core.not);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"eraser-toggle\",\"eraser-toggle\",360211261),(function (db,p__41123){\r\nvar vec__41124 = p__41123;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41124,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41124,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"eraser?\",\"eraser?\",-561181785),cljs.core.not);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"sharp-off\",\"sharp-off\",2041506931),(function (db,p__41127){\r\nvar vec__41128 = p__41127;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41128,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41128,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"sharp?\",\"sharp?\",411396133),false);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"pause\",\"pause\",-2095325672),(function (db,p__41131){\r\nvar vec__41132 = p__41131;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41132,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41132,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863),false);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"stop\",\"stop\",-2140911342),(function (db,p__41135){\r\nvar vec__41136 = p__41135;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41136,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41136,(1),null);\r\nvar G__41139_41277 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"reset-editor\",\"reset-editor\",1401688585)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__41139_41277) : re_frame.core.dispatch.call(null,G__41139_41277));\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863),false),new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254),(0));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"update-focus-note\",\"update-focus-note\",-40352556),(function (db,p__41140){\r\nvar vec__41141 = p__41140;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41141,(0),null);\r\nvar pos = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41141,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"focused-note-pos\",\"focused-note-pos\",-1443473576),pos);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"select-instrument\",\"select-instrument\",75005084),(function (db,p__41144){\r\nvar vec__41145 = p__41144;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41145,(0),null);\r\nvar instrument = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41145,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(db,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844),instrument,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,\"eraser?\",\"eraser?\",-561181785),false], 0));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"play-off\",\"play-off\",2116693509),(function (db,p__41148){\r\nvar vec__41149 = p__41148;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41149,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41149,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863),false);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"advance-position\",\"advance-position\",-23796893),(function (db,p__41154){\r\nvar vec__41155 = p__41154;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41155,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41155,(1),null);\r\nvar notes = (function (){var G__41158 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41158) : re_frame.core.subscribe.call(null,G__41158));\r\n})();\r\nvar beat = (function (){var G__41159 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41159) : re_frame.core.subscribe.call(null,G__41159));\r\n})();\r\nvar to_play = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__41152_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(((1) + cljs.core.deref(beat)),new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__41152_SHARP_));\r\n}),cljs.core.deref(notes));\r\nif(((4) < cljs.core.deref(beat))){\r\nvar G__41160_41279 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"advance-editor\",\"advance-editor\",-224480492),0.5], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__41160_41279) : re_frame.core.dispatch.call(null,G__41160_41279));\r\n} else {\r\n}\r\n\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254),(function (p1__41153_SHARP_){\r\nreturn (0.5 + p1__41153_SHARP_);\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"advance-editor\",\"advance-editor\",-224480492),(function (db,p__41162){\r\nvar vec__41163 = p__41162;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41163,(0),null);\r\nvar beats = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41163,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415),(function (p1__41161_SHARP_){\r\nreturn (beats + p1__41161_SHARP_);\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"move-mario\",\"move-mario\",-317739908),(function (db,p__41167){\r\nvar vec__41168 = p__41167;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41168,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41168,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"mario-x\",\"mario-x\",1743249500),(function (p1__41166_SHARP_){\r\nreturn ((10) + p1__41166_SHARP_);\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"reset-editor\",\"reset-editor\",1401688585),(function (db,p__41171){\r\nvar vec__41172 = p__41171;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41172,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41172,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415),(1)),new cljs.core.Keyword(null,\"mario-x\",\"mario-x\",1743249500),(16));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"retract-editor\",\"retract-editor\",777879449),(function (db,p__41176){\r\nvar vec__41177 = p__41176;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41177,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41177,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"editor-beat-start\",\"editor-beat-start\",-334408415),(function (p1__41175_SHARP_){\r\nreturn (p1__41175_SHARP_ - 0.5);\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"reset-position\",\"reset-position\",-804750860),(function (db,p__41180){\r\nvar vec__41181 = p__41180;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41181,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41181,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"current-position\",\"current-position\",2031348254),(0));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"set-tempo\",\"set-tempo\",59409059),(function (db,p__41184){\r\nvar vec__41185 = p__41184;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41185,(0),null);\r\nvar tempo = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41185,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453),tempo);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"inc-tempo\",\"inc-tempo\",-1684511808),(function (db,p__41189){\r\nvar vec__41190 = p__41189;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41190,(0),null);\r\nvar tempo = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41190,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453),(function (p1__41188_SHARP_){\r\nreturn ((8) + p1__41188_SHARP_);\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"dec-tempo\",\"dec-tempo\",375495204),(function (db,p__41194){\r\nvar vec__41195 = p__41194;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41195,(0),null);\r\nvar tempo = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41195,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453),(function (p1__41193_SHARP_){\r\nreturn (p1__41193_SHARP_ - (8));\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"set-key\",\"set-key\",-48186176),(function (db,p__41198){\r\nvar vec__41199 = p__41198;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41199,(0),null);\r\nvar key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41199,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"key\",\"key\",-1516042587),key);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"repeat-toggle\",\"repeat-toggle\",-221009908),(function (db,p__41202){\r\nvar vec__41203 = p__41202;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41203,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41203,(1),null);\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"repeat?\",\"repeat?\",1245600428),cljs.core.not);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"set-loop-end\",\"set-loop-end\",2098658713),(function (db,p__41206){\r\nvar vec__41207 = p__41206;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41207,(0),null);\r\nvar x = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41207,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"loop-end\",\"loop-end\",-88908047),x);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"next-note\",\"next-note\",-239967297),(function (db,p__41211){\r\nvar vec__41212 = p__41211;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41212,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41212,(1),null);\r\nvar tempo = (function (){var G__41215 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"tempo\",\"tempo\",-1555208453)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41215) : re_frame.core.subscribe.call(null,G__41215));\r\n})();\r\nvar seconds_per_beat = (60.0 / cljs.core.deref(tempo));\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"current-note\",\"current-note\",-1767945909),cljs.core.inc),new cljs.core.Keyword(null,\"next-note-time\",\"next-note-time\",-1117617128),(function (p1__41210_SHARP_){\r\nreturn (p1__41210_SHARP_ + seconds_per_beat);\r\n}));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"play-note\",\"play-note\",76179144),(function (db,p__41216){\r\nvar vec__41217 = p__41216;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41217,(0),null);\r\nvar pitch = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41217,(1),null);\r\nmecca.music.play_note(pitch);\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"notes-in-queue\",\"notes-in-queue\",-193583681),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700),pitch,new cljs.core.Keyword(null,\"time\",\"time\",1385887882),(0)], null)], null));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"schedule-note\",\"schedule-note\",2064270583),(function (db,p__41221){\r\nvar vec__41222 = p__41221;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41222,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41222,(1),null);\r\nvar notes = (function (){var G__41225 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41225) : re_frame.core.subscribe.call(null,G__41225));\r\n})();\r\nvar beat = (function (){var G__41226 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"current-note\",\"current-note\",-1767945909)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41226) : re_frame.core.subscribe.call(null,G__41226));\r\n})();\r\nvar to_play = cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__41220_SHARP_){\r\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(((1) + cljs.core.deref(beat)),new cljs.core.Keyword(null,\"time\",\"time\",1385887882).cljs$core$IFn$_invoke$arity$1(p1__41220_SHARP_));\r\n}),cljs.core.deref(notes));\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(db,new cljs.core.Keyword(null,\"notes-in-queue\",\"notes-in-queue\",-193583681),cljs.core.into,to_play);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$3(new cljs.core.Keyword(null,\"add-note\",\"add-note\",-926319985),day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$1(\"add note\"),(function (db,p__41227){\r\nvar vec__41228 = p__41227;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41228,(0),null);\r\nvar instrument = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41228,(1),null);\r\nvar time = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41228,(2),null);\r\nvar pitch = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41228,(3),null);\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref((function (){var G__41231 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41231) : re_frame.core.subscribe.call(null,G__41231));\r\n})()).state,\"suspended\")){\r\ncljs.core.deref((function (){var G__41232 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"audio-context\",\"audio-context\",1642559898)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41232) : re_frame.core.subscribe.call(null,G__41232));\r\n})()).resume();\r\n} else {\r\n}\r\n\r\nmecca.music.play_sample(instrument,(cljs.core.truth_(cljs.core.deref((function (){var G__41233 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"sharp?\",\"sharp?\",411396133)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41233) : re_frame.core.subscribe.call(null,G__41233));\r\n})()))?(pitch + (1)):pitch));\r\n\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$4(db,new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),cljs.core.conj,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,\"time\",\"time\",1385887882),time,new cljs.core.Keyword(null,\"instrument\",\"instrument\",-960698844),instrument,new cljs.core.Keyword(null,\"pitch\",\"pitch\",1495126700),(cljs.core.truth_(cljs.core.deref((function (){var G__41234 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"sharp?\",\"sharp?\",411396133)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41234) : re_frame.core.subscribe.call(null,G__41234));\r\n})()))?(pitch + (1)):pitch)], null));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"tick!\",\"tick!\",68058958),(function (db,p__41238){\r\nvar vec__41239 = p__41238;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41239,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41239,(1),null);\r\nif(cljs.core.truth_(((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2((0),cljs.core.deref((function (){var G__41245 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41245) : re_frame.core.subscribe.call(null,G__41245));\r\n})())))?cljs.core.deref((function (){var G__41246 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"playing?\",\"playing?\",-1884542863)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41246) : re_frame.core.subscribe.call(null,G__41246));\r\n})()):false))){\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(cljs.core.update.cljs$core$IFn$_invoke$arity$3(cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"mario-run\",\"mario-run\",-1086168628),(function (p1__41235_SHARP_){\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(p1__41235_SHARP_,(12))){\r\nreturn (0);\r\n} else {\r\nreturn (p1__41235_SHARP_ + (1));\r\n}\r\n})),new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289),(function (p1__41236_SHARP_){\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((8),p1__41236_SHARP_)){\r\nreturn (0);\r\n} else {\r\nreturn (p1__41236_SHARP_ + (1));\r\n}\r\n})),new cljs.core.Keyword(null,\"mario-y\",\"mario-y\",1718385780),((61) - cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 8, 5, cljs.core.PersistentVector.EMPTY_NODE, [(5),(10),(15),(25),(30),(25),(15),(5)], null),cljs.core.deref((function (){var G__41247 = new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289)], null);\r\nreturn (re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(G__41247) : re_frame.core.subscribe.call(null,G__41247));\r\n})()))));\r\n} else {\r\nreturn cljs.core.update.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"mario-run\",\"mario-run\",-1086168628),(function (p1__41237_SHARP_){\r\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(p1__41237_SHARP_,(12))){\r\nreturn (0);\r\n} else {\r\nreturn (p1__41237_SHARP_ + (1));\r\n}\r\n}));\r\n}\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"jump!\",\"jump!\",-1168155200),(function (db,p__41248){\r\nvar vec__41249 = p__41248;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41249,(0),null);\r\nvar ___$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41249,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"mario-jump\",\"mario-jump\",253829289),(1));\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"submit-xml\",\"submit-xml\",-1403162082),(function (db,p__41252){\r\nvar vec__41253 = p__41252;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41253,(0),null);\r\nvar xml = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41253,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"xml\",\"xml\",-1170142052),xml);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"load-song\",\"load-song\",17308276),(function (db,p__41256){\r\nvar vec__41257 = p__41256;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41257,(0),null);\r\nvar notes = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41257,(1),null);\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),notes);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"load-megaman\",\"load-megaman\",59599960),(function (db,p__41260){\r\nvar vec__41261 = p__41260;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41261,(0),null);\r\nvar notes = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41261,(1),null);\r\nvar G__41264_41283 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"set-tempo\",\"set-tempo\",59409059),(260)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__41264_41283) : re_frame.core.dispatch.call(null,G__41264_41283));\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),mecca.songs.megaman.megaman);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"load-castle\",\"load-castle\",-840389601),(function (db,p__41265){\r\nvar vec__41266 = p__41265;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41266,(0),null);\r\nvar notes = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41266,(1),null);\r\nvar G__41269_41284 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"set-tempo\",\"set-tempo\",59409059),(150)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__41269_41284) : re_frame.core.dispatch.call(null,G__41269_41284));\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),mecca.songs.city.city);\r\n}));\r\nre_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"load-zelda\",\"load-zelda\",-1565536165),(function (db,p__41270){\r\nvar vec__41271 = p__41270;\r\nvar _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41271,(0),null);\r\nvar notes = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__41271,(1),null);\r\nvar G__41274_41285 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"set-tempo\",\"set-tempo\",59409059),(390)], null);\r\n(re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1 ? re_frame.core.dispatch.cljs$core$IFn$_invoke$arity$1(G__41274_41285) : re_frame.core.dispatch.call(null,G__41274_41285));\r\n\r\nreturn cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(db,new cljs.core.Keyword(null,\"notes\",\"notes\",-1039600523),mecca.songs.zelda.zelda);\r\n}));\r\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","mecca/events.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",17],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$react","~$module$node_modules$react$index","~$create-react-class","~$module$node_modules$create_react_class$index","~$react-dom","~$module$node_modules$react_dom$index"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:name","~$mecca.events","~:op","~:ns","~:imports",["^ ","~$EventType","~$goog.events.EventType"],"~:requires",["^ ","~$day8.re-frame.undo","^O","~$re-pressed.core","^P","~$mecca.music","^Q","~$mecca.songs.zelda","^R","^L","^M","~$cljs.core","^S","~$rp","^P","~$music","^Q","~$megaman","~$mecca.songs.megaman","~$mario","~$mecca.mario","~$goog","^Z","~$zelda","^R","^M","^M","~$city","~$mecca.songs.city","^Y","^Y","~$undo","^O","^11","^11","~$goog.events","^13","^W","^W","~$re-frame.core","^14"],"~:seen",["^F",["~:require"]],"~:uses",["^ ","~$reg-event-db","^14","~$reg-event-fx","^14","~$dispatch","^14","~$subscribe","^14","~$undoable","^O","^X","^Y","~$listen","^13","~$unlisten","^13"],"~:require-macros",["^ ","^S","^S"],"~:form",["~#list",["~$ns","^H",["^1A",["^16",["^14","~:refer",["^18","^19","^1:","^1;"]],["^P","~:as","^T"],["^O","^1D","^12","^1C",["^1<"]],["^Y","^1D","^X","^1C",["^X"]],["^W","^1D","^V"],["^R","^1D","^["],["^11","^1D","^10"],["^Q","^1D","^U"],["^13","^1C",["^1=","^1>"]]]],["^1A",["~:import",["^13","^L"]]]]],"~:flags",["^ ","^16",["^F",[]]],"~:js-deps",["^ "],"~:deps",["^Z","^S","^14","^P","^O","^Y","^W","^R","^11","^Q","^13","^M"]],"^J","^H","~:resource-id",["~:shadow.build.classpath/resource","mecca/events.cljs"],"~:compiled-at",1665062684538,"~:resource-name","mecca/events.cljs","~:warnings",[],"~:source","(ns mecca.events\r\n  (:require\r\n   [re-frame.core :refer [reg-event-db reg-event-fx dispatch subscribe]]\r\n   [re-pressed.core :as rp]\r\n   [day8.re-frame.undo :as undo :refer [undoable]]\r\n   [mecca.mario :as mario :refer [mario]]\r\n   [mecca.songs.megaman :as megaman]\r\n   [mecca.songs.zelda :as zelda]\r\n   [mecca.songs.city :as city]\r\n   [mecca.music :as music]\r\n   [goog.events :refer [listen unlisten]])\r\n  (:import [goog.events EventType]))\r\n\r\n(reg-event-db\r\n :initialize-db\r\n (fn [_ _]\r\n   {:audio-context (js/AudioContext.)\r\n    :samples nil\r\n    :focused-note-pos [nil nil]\r\n    :eraser? false\r\n    :playing? false\r\n    :play-start 0\r\n    :jumping? false\r\n    :sharp? false\r\n    :repeat? false\r\n    :loop-end nil\r\n    :current-position 0\r\n    :current-note 0\r\n    :next-note-time 0.0\r\n    :notes-in-queue []\r\n    :editor-beat-start 1\r\n    :instrument 1\r\n    :array-buffer nil\r\n    :time 0\r\n    :time-signature 4\r\n    :tempo 120\r\n    :notes []\r\n    :mario-x 16\r\n    :mario-y 61\r\n    :mario-jump 0\r\n    :mario-run 1\r\n    :xml \"\"\r\n    :file-upload \"\"}))\r\n\r\n(reg-event-db\r\n :remove-note\r\n (undoable \"remove note\")\r\n (fn [db [_ time pitch]]\r\n   (update db :notes\r\n           (fn [note]\r\n             (remove #(and (= time (:time %))\r\n                           (= pitch (:pitch %)))\r\n                     note)))))\r\n\r\n(reg-event-db\r\n :file-upload\r\n (fn [db [_ file]]\r\n      (assoc db :file-upload file)))\r\n\r\n(reg-event-db\r\n :load-samples\r\n (fn [db [_ samples]]\r\n   (assoc db :samples samples)))\r\n\r\n(reg-event-db\r\n :set-time-signature\r\n (fn [db [_ beats-per-measure]]\r\n   (update db :time-signature beats-per-measure)))\r\n\r\n(reg-event-db\r\n :set-notes\r\n (fn [db [_ notes]]\r\n   (assoc db :notes notes)))\r\n\r\n(reg-event-db                 ;; usage:  (dispatch [:timer a-js-Date])\r\n :timer                         ;; every second an event of this kind will be dispatched\r\n (fn [db [_ new-time]]          ;; note how the 2nd parameter is destructured to obtain the data value\r\n   (assoc db :time new-time)))\r\n\r\n(reg-event-db\r\n :play-on\r\n (fn [db [_ _]]\r\n   (music/play-song!)\r\n   (assoc\r\n    (assoc db :play-start (.-currentTime @(subscribe [:audio-context])))\r\n    :playing? true)\r\n    ))\r\n\r\n(reg-event-db\r\n :sharp-on\r\n (fn [db [_ _]]\r\n   (assoc db :sharp? true)))\r\n\r\n(reg-event-db\r\n :sharp-toggle\r\n (fn [db [_ _]]\r\n   (update db :sharp? not)))\r\n\r\n(reg-event-db\r\n :eraser-toggle\r\n (fn [db [_ _]]\r\n   (update db :eraser? not)))\r\n\r\n(reg-event-db\r\n :sharp-off\r\n (fn [db [_ _]]\r\n   (assoc db :sharp? false)))\r\n\r\n(reg-event-db\r\n :pause\r\n (fn [db [_ _]]\r\n   (assoc db :playing? false)))\r\n\r\n(reg-event-db\r\n :stop\r\n (fn [db [_ _]]\r\n   (dispatch [:reset-editor])\r\n   (assoc\r\n    (assoc db :playing? false)\r\n    :current-position 0)))\r\n\r\n(reg-event-db\r\n :update-focus-note\r\n (fn [db [_ pos]]\r\n   (assoc db :focused-note-pos pos)))\r\n\r\n(reg-event-db\r\n :select-instrument\r\n (fn [db [_ instrument]]\r\n   (assoc db \r\n          :instrument instrument\r\n          :eraser? false)))\r\n\r\n(reg-event-db\r\n :play-off\r\n (fn [db [_ _]]\r\n   (assoc db :playing? false)))\r\n\r\n(reg-event-db\r\n :advance-position\r\n (fn [db [_ _]]\r\n   (let [notes (subscribe [:notes])\r\n         beat (subscribe [:current-position])\r\n         to-play (filter #(= (+ 1 @beat) (:time %)) @notes)]\r\n     (if (< 4 @beat)\r\n       (dispatch [:advance-editor 0.5]))\r\n     #_(doall (for [{:keys [instrument pitch]} to-play]\r\n                (music/play-sample instrument (if @(subscribe [:sharp?]) (+ 0.5 pitch) pitch))))\r\n     (update db :current-position #(+ 0.5 %)))))\r\n\r\n(reg-event-db\r\n :advance-editor\r\n (fn [db [_ beats]]\r\n   (update db :editor-beat-start #(+ beats %))))\r\n\r\n(reg-event-db\r\n :move-mario\r\n (fn [db [_ _]]\r\n   (update db :mario-x #(+ 10 %))))\r\n\r\n(reg-event-db\r\n :reset-editor\r\n (fn [db [_ _]]\r\n   (assoc (assoc db :editor-beat-start 1)\r\n          :mario-x 16)))\r\n\r\n(reg-event-db\r\n :retract-editor\r\n (fn [db [_ _]]\r\n   (update db :editor-beat-start #(- % 0.5))))\r\n\r\n(reg-event-db\r\n :reset-position\r\n (fn [db [_ _]]\r\n   (assoc db :current-position 0)))\r\n\r\n(reg-event-db\r\n :set-tempo\r\n (fn [db [_ tempo]]\r\n   (assoc db :tempo tempo)))\r\n\r\n(reg-event-db\r\n :inc-tempo\r\n (fn [db [_ tempo]]\r\n   (update db :tempo #(+ 8 %))))\r\n\r\n(reg-event-db\r\n :dec-tempo\r\n (fn [db [_ tempo]]\r\n   (update db :tempo #(- % 8))))\r\n\r\n(reg-event-db\r\n :set-key\r\n (fn [db [_ key]]\r\n   (assoc db :key key)))\r\n\r\n(reg-event-db\r\n :repeat-toggle\r\n (fn [db [_ _]]\r\n   (update db :repeat? not)))\r\n\r\n(reg-event-db\r\n :set-loop-end\r\n (fn [db [_ x]]\r\n   (assoc db :loop-end x)))\r\n\r\n(reg-event-db\r\n :next-note\r\n (fn [db [_ _]]\r\n   (let [tempo (subscribe [:tempo])\r\n         seconds-per-beat (/ 60.0 @tempo)]\r\n     (update \r\n      (update db :current-note inc)\r\n      :next-note-time #(+ % seconds-per-beat)))))\r\n\r\n(reg-event-db\r\n :play-note\r\n (fn [db [_ pitch]]\r\n   (music/play-note pitch)\r\n   (assoc db :notes-in-queue [{:pitch pitch\r\n                               :time  0}])))\r\n\r\n(reg-event-db\r\n :schedule-note\r\n (fn [db [_ _]]\r\n   (let [notes (subscribe [:notes])\r\n         beat (subscribe [:current-note])\r\n         to-play (filter #(= (+ 1 @beat) (:time %)) @notes)]\r\n     (update db :notes-in-queue\r\n             into to-play))))\r\n\r\n(reg-event-db\r\n :add-note\r\n (undoable \"add note\")\r\n (fn [db [_ instrument time pitch]]\r\n   (if (= (.-state @(subscribe [:audio-context])) \"suspended\")\r\n     (.resume @(subscribe [:audio-context])))\r\n   (music/play-sample instrument (if @(subscribe [:sharp?]) (inc pitch) pitch))\r\n   (update db :notes\r\n           conj \r\n           {:time time\r\n            :instrument instrument\r\n            :pitch (if @(subscribe [:sharp?])\r\n                    (inc pitch) pitch)})))\r\n\r\n\r\n;; TODO This is gross.\r\n;; Make it so the run counter only runs when needed.\r\n;; But this tick function needs to be refactored.\r\n;; Seriously it's like 50 shades of awful.\r\n;; Read about effectful handlers some more,\r\n;; and learn to use reg-event-fx.\r\n\r\n(reg-event-db\r\n :tick!\r\n (fn [db [_ _]]\r\n   (if (and (not= 0 @(subscribe [:mario-jump]))\r\n            @(subscribe [:playing?]))\r\n     (assoc\r\n      (update\r\n       (update db :mario-run #(if (= % 12) 0 (inc %)))\r\n       :mario-jump #(if (= 8 %) 0 (inc %)))\r\n      :mario-y (- 61\r\n                  (get [5 10 15 25 30 25 15 5]\r\n                       @(subscribe [:mario-jump]))))\r\n     (update db :mario-run #(if (= % 12) 0 (inc %))))))\r\n\r\n(reg-event-db\r\n :jump!\r\n (fn [db [_ _]]\r\n   (assoc db :mario-jump 1)))\r\n\r\n(reg-event-db\r\n :submit-xml\r\n (fn [db [_ xml]]\r\n   (assoc db :xml xml)))\r\n\r\n(reg-event-db\r\n :load-song\r\n (fn [db [_ notes]]\r\n   (assoc db :notes notes)))\r\n\r\n(reg-event-db\r\n :load-megaman\r\n (fn [db [_ notes]]\r\n   (dispatch [:set-tempo 260])\r\n   (assoc db :notes\r\n          megaman/megaman)))\r\n\r\n(reg-event-db\r\n :load-castle\r\n (fn [db [_ notes]]\r\n   (dispatch [:set-tempo 150])\r\n   (assoc db :notes city/city)))\r\n\r\n(reg-event-db\r\n :load-zelda\r\n (fn [db [_ notes]]\r\n   (dispatch [:set-tempo 390])\r\n   (assoc db :notes zelda/zelda)))\r\n\r\n","~:reader-features",["^F",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["re_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$2","_","js/AudioContext","re_frame.core.reg_event_db.cljs$core$IFn$_invoke$arity$3","day8.re_frame.undo.undoable.cljs$core$IFn$_invoke$arity$1","p__41086","vec__41087","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","db","time","pitch","cljs.core.update.cljs$core$IFn$_invoke$arity$3","note","p1__41085#","cljs.core.remove.cljs$core$IFn$_invoke$arity$2","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","p__41090","vec__41091","file","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","p__41094","vec__41095","samples","p__41098","vec__41099","beats-per-measure","p__41102","vec__41103","notes","p__41106","vec__41107","new-time","p__41110","vec__41111","mecca.music/play-song!","cljs.core/deref","G__41114","re-frame.core/subscribe","p__41115","vec__41116","p__41119","vec__41120","cljs.core/not","p__41123","vec__41124","p__41127","vec__41128","p__41131","vec__41132","p__41135","vec__41136","G__41139","re-frame.core/dispatch","p__41140","vec__41141","pos","p__41144","vec__41145","instrument","cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic","p__41148","vec__41149","p__41154","vec__41155","G__41158","beat","G__41159","to-play","p1__41152#","cljs.core.filter.cljs$core$IFn$_invoke$arity$2","G__41160","p1__41153#","p__41162","vec__41163","beats","p1__41161#","p__41167","vec__41168","p1__41166#","p__41171","vec__41172","p__41176","vec__41177","p1__41175#","p__41180","vec__41181","p__41184","vec__41185","tempo","p__41189","vec__41190","p1__41188#","p__41194","vec__41195","p1__41193#","p__41198","vec__41199","key","p__41202","vec__41203","p__41206","vec__41207","x","p__41211","vec__41212","G__41215","seconds-per-beat","p1__41210#","cljs.core/inc","p__41216","vec__41217","mecca.music/play-note","p__41221","vec__41222","G__41225","G__41226","p1__41220#","cljs.core.update.cljs$core$IFn$_invoke$arity$4","cljs.core/into","p__41227","vec__41228","G__41231","G__41232","mecca.music/play-sample","G__41233","cljs.core/conj","G__41234","p__41238","vec__41239","cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2","G__41245","G__41246","p1__41236#","p1__41235#","cljs.core.get.cljs$core$IFn$_invoke$arity$2","G__41247","p1__41237#","p__41248","vec__41249","p__41252","vec__41253","xml","p__41256","vec__41257","p__41260","vec__41261","G__41264","mecca.songs.megaman/megaman","p__41265","vec__41266","G__41269","mecca.songs.city/city","p__41270","vec__41271","G__41274","mecca.songs.zelda/zelda"]]],"~:cache-keys",["~#cmap",[["~:shadow.build.npm/resource","node_modules/react-dom/index.js"],[1651803609000,1651803609000,1651803581384,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^F",[]],"~:deps-syms",["~$shadow.js","~$module$node_modules$react_dom$cjs$react_dom_production_min","~$module$node_modules$react_dom$cjs$react_dom_development"]]],["^1J","reagent/impl/batching.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$reagent.debug","~$reagent.interop","~$reagent.impl.util","~$clojure.string"]]],["^1J","goog/dom/tagname.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.dom.HtmlElement"]]],["^1J","mecca/songs/megaman.cljs"],[1651803010721,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","cljs/core/async/impl/ioc_helpers.cljs"],[1651803607747,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$cljs.core.async.impl.protocols"]]],["^1J","day8/re_frame/undo.cljs"],[1650239978066,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$reagent.core","^14","~$re-frame.db"]]],["^1J","goog/labs/useragent/platform.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.labs.userAgent.util","~$goog.string"]]],["^1J","cljs/core/async.cljs"],[1651803607747,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^28","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers","~$goog.array"]]],["^1J","goog/math/math.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","~$goog.asserts"]]],["^1J","goog/html/trustedtypes.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/events/eventtype.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.events.BrowserFeature","~$goog.userAgent"]]],["^1J","goog/labs/useragent/browser.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2;","~$goog.object","~$goog.string.internal"]]],["^1J","goog/html/safeurl.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^2G"]]],["^1J","re_frame/loggers.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$clojure.set"]]],["^1J","goog/array/array.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C"]]],["^1W","node_modules/prop-types/checkPropTypes.js"],[1651803609000,1651803609000,1651803581499,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","~$module$node_modules$prop_types$lib$ReactPropTypesSecret"]]],["^1J","reagent/impl/util.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^23","^24","^26"]]],["^1J","goog/useragent/useragent.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^2;","~$goog.reflect","^2<"]]],["^1J","re_frame/router.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$re-frame.events","~$re-frame.interop","~$re-frame.loggers","~$re-frame.trace"]]],["^1W","node_modules/fbjs/lib/emptyFunction.js"],[1651803609000,1651803609000,1651803582852,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1J","goog/debug/error.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/events/events.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","~$goog.debug.entryPointRegistry","~$goog.events.BrowserEvent","^2D","~$goog.events.Listenable","~$goog.events.ListenerMap"]]],["^1J","re_frame/registrar.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2U","^2V"]]],["^1J","goog/events/browserfeature.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2E"]]],["^1W","node_modules/fbjs/lib/emptyObject.js"],[1651803609000,1651803609000,1651803582767,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1J","goog/dom/nodetype.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1W","node_modules/scheduler/cjs/scheduler.development.js"],[1651803609000,1651803609000,1651803582380,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1J","reagent/ratom.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^25","^23","~$reagent.impl.batching","^2N"]]],["^1W","node_modules/scheduler/cjs/scheduler.production.min.js"],[1651803609000,1651803609000,1651803582614,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1J","re_frame/interop.cljs"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$goog.async.nextTick","^29","~$reagent.ratom"]]],["^1J","goog/disposable/disposable.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.disposable.IDisposable"]]],["^1J","goog/string/typedstring.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1W","node_modules/scheduler/cjs/scheduler-tracing.production.min.js"],[1651803609000,1651803609000,1651803581950,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1W","node_modules/create-react-class/factory.js"],[1651803609000,1651803609000,1651803581416,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","~$module$node_modules$object_assign$index","~$module$node_modules$fbjs$lib$emptyObject","~$module$node_modules$fbjs$lib$invariant","~$module$node_modules$fbjs$lib$warning"]]],["^1W","node_modules/react/index.js"],[1651803609000,1651803609000,1651803581384,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","~$module$node_modules$react$cjs$react_production_min","~$module$node_modules$react$cjs$react_development"]]],["^1J","shadow/js.js"],[1651803609529,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/object/object.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","reagent/impl/template.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^?","^26","~$clojure.walk","^25","~$reagent.impl.component","^30","^32","^24","^23"]]],["^1J","goog/dom/asserts.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C"]]],["^1W","node_modules/react-dom/cjs/react-dom.production.min.js"],[1651803609000,1651803609000,1651803583468,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","^?","^34","~$module$node_modules$scheduler$index"]]],"~:SHADOW-TIMESTAMP",[1651803609000,1651803607000],["^1W","node_modules/react/cjs/react.development.js"],[1651803609000,1651803609000,1651803581796,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","^34","~$module$node_modules$prop_types$checkPropTypes"]]],["^1J","re_frame/events.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2:","~$re-frame.utils","^2U","~$re-frame.registrar","^2V","~$re-frame.interceptor","^2W"]]],["^1J","goog/math/long.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","^2S"]]],["^1J","goog/events/listener.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.events.ListenableKey"]]],["^1J","goog/html/trustedresourceurl.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","~$goog.html.trustedtypes","^2J","^2K","^2L","^2M"]]],["^1J","cljs/core/async/impl/channels.cljs"],[1651803607747,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^28","^2@","^2>"]]],["^1J","goog/events/listenermap.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","~$goog.events.Listener","^2F"]]],["^1J","goog/events/eventid.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/string/internal.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1W","node_modules/scheduler/cjs/scheduler-tracing.development.js"],[1651803609000,1651803609000,1651803581920,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1W","node_modules/fbjs/lib/warning.js"],[1651803609000,1651803609000,1651803583748,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","~$module$node_modules$fbjs$lib$emptyFunction"]]],["^1J","goog/functions/functions.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","cljs/core/async/impl/dispatch.cljs"],[1651803607747,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2>","^31"]]],["^1J","goog/html/safestyle.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2C","~$goog.html.SafeUrl","^2L","^2M","^2G"]]],["^1J","goog/dom/safe.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","~$goog.html.SafeScript","~$goog.html.SafeStyle","^3F","^2I","~$goog.html.uncheckedconversions","^2L","^2G"]]],["^1J","reagent/impl/component.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^A","^?","^25","^30","^32","^24","^23"]]],["^1J","clojure/walk.cljs"],[1651803607737,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","cljs/core/async/impl/protocols.cljs"],[1651803607747,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","goog/structs/map.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^1J","goog/html/safehtml.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2C","~$goog.dom.TagName","~$goog.dom.tags","^3J","^3K","~$goog.html.SafeStyleSheet","^3F","^2I","^3C","^2J","^2K","^2P","^2F","^2L","^2M","^2G"]]],["^1J","goog/dom/tags.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2F"]]],["^1J","goog/math/size.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","mecca/mario.cljs"],[1651803010718,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^14"]]],["^1W","node_modules/scheduler/index.js"],[1651803609000,1651803609000,1651803581383,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","~$module$node_modules$scheduler$cjs$scheduler_production_min","~$module$node_modules$scheduler$cjs$scheduler_development"]]],["^1J","goog/labs/useragent/engine.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2;","^2<"]]],["^1J","mecca/songs/zelda.cljs"],[1651803010724,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","re_pressed/impl.cljs"],[1650239978167,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^14","^13"]]],["^1J","goog/dom/dom.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2C","~$goog.dom.BrowserFeature","~$goog.dom.NodeType","^3O","~$goog.dom.safe","^3I","^3L","~$goog.math.Coordinate","~$goog.math.Size","^2F","^2<","~$goog.string.Unicode","^2E"]]],["^1J","goog/asserts/asserts.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.debug.Error","^3U"]]],["^1J","cljs/core/async/impl/buffers.cljs"],[1651803607747,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^28"]]],["^1J","goog/uri/uri.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2C","^2<","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1J","goog/i18n/bidi.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1W","node_modules/object-assign/index.js"],[1651803609000,1651803609000,1651803581310,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1J","re_frame/db.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2U"]]],["^1J","goog/disposable/idisposable.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","cljs/core/async/impl/timers.cljs"],[1651803607747,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^28","^2=","^2@"]]],["^1J","goog/fs/url.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/base.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",[]]],["^1J","goog/structs/structs.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2F"]]],["^1J","clojure/string.cljs"],[1651803607737,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2<","~$goog.string.StringBuffer"]]],["^1W","node_modules/create-react-class/index.js"],[1651803609000,1651803609000,1651803581796,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","^?","~$module$node_modules$create_react_class$factory"]]],["^1J","re_frame/cofx.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2:","^3A","^3@","^2V"]]],["^1W","node_modules/react/cjs/react.production.min.js"],[1651803609000,1651803609000,1651803581879,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","^34"]]],["^1J","mecca/songs/city.cljs"],[1651803010720,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","goog/debug/entrypointregistry.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C"]]],["^1J","goog/string/string.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^3V","^3L","^2L","^2G"]]],["^1J","re_frame/interceptor.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2V","^2U","^2W","^2N"]]],["^1J","clojure/data.cljs"],[1651803607737,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2N"]]],["^1J","goog/reflect/reflect.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/labs/useragent/util.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2G"]]],["^1J","reagent/core.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^?","~$reagent.impl.template","^3;","^25","^30","^32","^23","^24","~$reagent.dom"]]],["^1J","goog/debug/debug.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","~$goog.debug.errorcontext","^2E"]]],["^1J","goog/string/stringbuffer.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/math/coordinate.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.math"]]],["^1J","re_frame/std_interceptors.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^3A","^2V","^3@","^2:","~$clojure.data","~$re-frame.cofx","^3?","^2W"]]],["^1J","goog/debug/errorcontext.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","goog/iter/iter.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2C","^3H","^49"]]],["^1J","goog/async/nexttick.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2X","~$goog.dom","^3O","^3V","^3H","^3I","^2I","^2P","^2Q","^2L"]]],["^1J","goog/html/uncheckedconversions.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","^3I","^3J","^3K","^3Q","^3F","^2I","^2L","^2G"]]],["^1J","re_frame/utils.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2V"]]],["^1J","reagent/dom.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^C","^25","^46","^30","^32","^23","^24"]]],["^1J","re_frame/fx.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$re-frame.router","^2:","^3A","^2U","^2T","^3@","^2V","^2W"]]],["^1W","node_modules/prop-types/lib/ReactPropTypesSecret.js"],[1651803609000,1651803609000,1651803582241,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1J","goog/events/event.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.Disposable","~$goog.events.EventId"]]],["^1J","reagent/interop.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","goog/dom/htmlelement.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z"]]],["^1J","cljs/core.cljs"],[1651803607737,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["~$goog.math.Long","~$goog.math.Integer","^2<","^2F","^2B","~$goog.Uri","^44"]]],["^1J","goog/html/safescript.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","^3C","^2L","^2M"]]],["^1J","re_pressed/core.cljs"],[1650239978167,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^14","~$re-pressed.impl"]]],["^1J","reagent/debug.cljs"],[1650239977612,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","goog/html/safestylesheet.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2C","^3K","^2F","^2L","^2M","^2G"]]],["^1J","mecca/music.cljs"],[1651803010719,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","~$cljs.core.async","^14"]]],["^1J","goog/events/browserevent.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","~$goog.debug","^2D","~$goog.events.Event","^M","^2S","^2E"]]],["^1J","goog/math/integer.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2S"]]],["^1J","goog/dom/browserfeature.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2E"]]],["^1W","node_modules/scheduler/tracing.js"],[1651803609000,1651803609000,1651803581746,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","~$module$node_modules$scheduler$cjs$scheduler_tracing_production_min","~$module$node_modules$scheduler$cjs$scheduler_tracing_development"]]],["^1W","node_modules/react-dom/cjs/react-dom.development.js"],[1651803609000,1651803609000,1651803583417,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20","^?","^34","^3<","^3>","~$module$node_modules$scheduler$tracing"]]],["^1J","clojure/set.cljs"],[1651803607737,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S"]]],["^1J","goog/uri/utils.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2B","^2C","^2<"]]],["^1J","goog/string/const.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^2C","^2M"]]],["^1J","mecca/events.cljs"],[1665062684326,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^14","^P","^O","^Y","^W","^R","^11","^Q","^13","^M"]]],["^1J","goog/events/listenable.js"],[1651803607421,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^4?"]]],["^1W","node_modules/fbjs/lib/invariant.js"],[1651803609000,1651803609000,1651803583311,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^20"]]],["^1J","re_frame/trace.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2U","^2V","^3H"]]],["^1J","re_frame/subs.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2:","^2U","^2V","^3?","^3@","^2W"]]],["^1J","re_frame/core.cljc"],[1650239977917,"^1X",["^ ","^1Y",null,"^1Z",["^F",[]],"^1[",["^Z","^S","^2T","~$re-frame.subs","^2U","^2:","~$re-frame.fx","^4;","^4=","^2V","^3@","^3A","~$re-frame.std-interceptors","^2N"]]]]],"~:clj-info",["^ ","jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64_vlq.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/dispatch.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/reader_types.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/impl/ioc_macros.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/core.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/analyzer.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/protocols.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/exec/threadpool.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/ratom.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/errors.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/inspect.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/interop.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/net/cgrand/macrovich/0.2.1/macrovich-0.2.1.jar!/net/cgrand/macrovich.cljc",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/tagged_literals.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/trace.cljc",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/util.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/source_map/base64.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/re-frame/re-frame/0.10.8/re-frame-0.10.8.jar!/re_frame/interop.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/compiler.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/default_data_readers.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/externs.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/data.json/0.2.6/data.json-0.2.6.jar!/clojure/data/json.clj",1651803605000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/cljs/core/async/macros.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/core.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1650075668000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/env.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/core.async/0.4.500/core.async-0.4.500.jar!/clojure/core/async/impl/concurrent.clj",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/reagent/reagent/0.8.1/reagent-0.8.1.jar!/reagent/debug.clj",1650239977000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojurescript/1.10.597/clojurescript-1.10.597.jar!/cljs/js_deps.cljc",1651803607000,"jar:file:/C:/Users/porko/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1650075668000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","mecca/events.cljs","^7",1,"^8",5,"^9",1,"^:",17],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",null,"^E",["^F",[]],"^G","^H","^K",["^ ","^L","^M"],"^N",["^ ","^O","^O","^P","^P","^Q","^Q","^R","^R","^L","^M","^S","^S","^T","^P","^U","^Q","^V","^W","^X","^Y","^Z","^Z","^[","^R","^M","^M","^10","^11","^Y","^Y","^12","^O","^11","^11","^13","^13","^W","^W","^14","^14"],"^15",["^F",["^16"]],"~:shadow/js-access-global",["^F",["AudioContext"]],"^17",["^ ","^18","^14","^19","^14","^1:","^14","^1;","^14","^1<","^O","^X","^Y","^1=","^13","^1>","^13"],"^1?",["^ ","^S","^S"],"~:cljs.analyzer/constants",["^ ","^15",["^F",["~:set-key","~:initialize-db","~:jump!","~:inc-tempo","~:samples","~:editor-beat-start","~:remove-note","~:set-tempo","~:advance-position","~:dec-tempo","~:instrument","~:sharp?","~:play-off","~:key","~:timer","~:sharp-on","~:eraser?","~:play-note","~:mario-jump","~:reset-editor","~:set-time-signature","~:time","~:play-start","~:current-note","~:set-notes","~:repeat-toggle","~:mario-run","~:pitch","~:repeat?","~:file-upload","~:tick!","~:jumping?","~:add-note","~:time-signature","~:playing?","~:loop-end","~:stop","~:sharp-off","~:mario-y","~:update-focus-note","~:sharp-toggle","~:reset-position","~:load-song","~:advance-editor","~:notes","~:schedule-note","~:next-note-time","~:load-megaman","~:pause","~:focused-note-pos","~:set-loop-end","~:retract-editor","~:audio-context","~:play-on","~:load-zelda","~:load-samples","~:tempo","~:mario-x","~:move-mario","~:array-buffer","~:xml","~:select-instrument","~:eraser-toggle","~:current-position","~:submit-xml","~:load-castle","~:notes-in-queue","~:next-note"]],"~:order",["^5L","^5O","^5P","^5U","^5V","^5[","^61","^64","^65","^66","^69","^6;","^6<","^6>","^6@","^6A","^6B","^6E","^6K","^6M","^6P","^6S","^6W","^6X","^6Z","^6[","^72","^75","^5Q","^6:","^6V","^63","^67","^5Y","^6T","^5Z","^6G","^71","^6D","^6O","^6C","^62","^6F","^70","^5W","^5S","^6J","^6Y","^6R","^6H","^5R","^5N","^5T","^5K","^5X","^68","^6Q","^76","^60","^6L","^6?","^6=","^5M","^73","^6I","^6N","^74","^6U"]],"^1F",["^ ","^16",["^F",[]]],"^1G",["^ "],"^1H",["^Z","^S","^14","^P","^O","^Y","^W","^R","^11","^Q","^13","^M"]],"^J","^H","~:ns-specs",["^ "],"~:ns-spec-vars",["^F",[]],"~:compiler-options",["^1V",[["^7:","~:static-fns"],true,["^7:","~:shadow-tweaks"],null,["^7:","~:elide-asserts"],false,["^7:","~:optimize-constants"],null,["^7:","^1M"],null,["^7:","~:external-config"],null,["^7:","~:tooling-config"],null,["^7:","~:emit-constants"],null,["^7:","~:load-tests"],null,["^7:","~:form-size-threshold"],null,["^7:","~:infer-externs"],true,["^7:","^1O"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^7:","~:fn-invoke-direct"],null,["^7:","~:source-map"],"/dev/null"]]]